/**{
    "likes": {
    "data": [
        {
            "name": "Beachvolleyballteam Schwaiger / Schützenhöfer",
            "id": "152447051899070",
            "created_time": "2016-12-24T10:23:02+0000"
        },
        {
            "name": "Clemens Doppler",
            "id": "498164103582374",
            "created_time": "2016-12-24T10:20:48+0000"
        },
        {
            "name": "Gabi Hiller",
            "id": "270112533151330",
            "created_time": "2016-12-23T16:33:42+0000"
        },
        {
            "name": "Red Bull Arena Salzburg",
            "id": "112343765496690",
            "created_time": "2016-12-03T15:23:26+0000"
        },
        {
            "name": "Bilendo GmbH",
            "id": "1595084557396543",
            "created_time": "2016-12-01T08:52:58+0000"
        },
        {
            "name": "Alphaport",
            "id": "1408994946006739",
            "created_time": "2016-11-30T20:01:28+0000"
        },
        {
            "name": "Forst",
            "id": "203434333401367",
            "created_time": "2016-11-21T17:26:59+0000"
        },
        {
            "name": "Alligatoah",
            "id": "132841826755577",
            "created_time": "2016-11-20T14:13:46+0000"
        },
        {
            "name": "Element3 - Kitzbühel",
            "id": "109296685804977",
            "created_time": "2016-11-16T16:12:12+0000"
        },
        {
            "name": "Valentin Weinhaeupl Photography",
            "id": "1385609278397885",
            "created_time": "2016-11-09T19:42:34+0000"
        },
        {
            "name": "Hanna Katharina - photography & design",
            "id": "523221947696505",
            "created_time": "2016-11-06T20:03:21+0000"
        },
        {
            "name": "Martin Janecky",
            "id": "151830991489",
            "created_time": "2016-11-05T09:30:27+0000"
        },
        {
            "name": "Bluforce Group",
            "id": "190701834275052",
            "created_time": "2016-11-04T17:48:54+0000"
        },
        {
            "name": "Murdoch University Village",
            "id": "213766326829",
            "created_time": "2016-10-26T12:36:06+0000"
        },
        {
            "name": "Actimel",
            "id": "153710391378763",
            "created_time": "2016-10-18T17:32:43+0000"
        },
        {
            "name": "Neos CMS",
            "id": "1464617147154908",
            "created_time": "2016-10-13T17:01:31+0000"
        },
        {
            "name": "Radio Salzburg",
            "id": "112010532148453",
            "created_time": "2016-10-02T16:51:09+0000"
        },
        {
            "name": "Philipp McAllister",
            "id": "550832194948119",
            "created_time": "2016-10-01T14:10:15+0000"
        },
        {
            "name": "Blossom",
            "id": "193513747657351",
            "created_time": "2016-09-21T07:27:09+0000"
        },
        {
            "name": "DOGO Germany",
            "id": "506570449404061",
            "created_time": "2016-09-20T09:52:52+0000"
        },
        {
            "name": "Restaurant La Vaca",
            "id": "1605890916331076",
            "created_time": "2016-09-17T12:27:34+0000"
        },
        {
            "name": "Cafe de Waard",
            "id": "165330066853709",
            "created_time": "2016-09-16T21:08:02+0000"
        },
        {
            "name": "Argentinian Steakhouse Villa Maria",
            "id": "662010977151887",
            "created_time": "2016-09-16T18:10:17+0000"
        },
        {
            "name": "STA Travel",
            "id": "175504343933",
            "created_time": "2016-09-16T14:26:06+0000"
        },
        {
            "name": "Home Youth Hostel Valencia",
            "id": "831123350239530",
            "created_time": "2016-09-06T16:34:43+0000"
        },
        {
            "name": "Vivid Planet Software GmbH",
            "id": "264947817828",
            "created_time": "2016-08-16T21:19:36+0000"
        },
        {
            "name": "Freedom ∆",
            "id": "297638320446651",
            "created_time": "2016-08-13T23:58:43+0000"
        },
        {
            "name": "Uhrwerk -selected-",
            "id": "556829414470771",
            "created_time": "2016-08-12T22:29:05+0000"
        },
        {
            "name": "Beginner",
            "id": "152501264848749",
            "created_time": "2016-08-12T11:32:40+0000"
        },
        {
            "name": "Zuckerlwerkstatt",
            "id": "634362973289443",
            "created_time": "2016-08-12T11:19:41+0000"
        },
        {
            "name": "Mira Mireau",
            "id": "605783956157665",
            "created_time": "2016-07-28T21:01:45+0000"
        },
        {
            "name": "European Bartender School",
            "id": "210743702279221",
            "created_time": "2016-07-26T20:06:29+0000"
        },
        {
            "name": "VMA Films",
            "id": "1491655384412328",
            "created_time": "2016-07-26T07:45:55+0000"
        },
        {
            "name": "Mark Wahlberg",
            "id": "151162256531",
            "created_time": "2016-07-24T22:40:39+0000"
        },
        {
            "name": "KiteBeach Fiumara",
            "id": "1440319866296609",
            "created_time": "2016-07-20T12:28:09+0000"
        },
        {
            "name": "Esther the Wonder Pig",
            "id": "506496949457534",
            "created_time": "2016-07-18T06:16:20+0000"
        },
        {
            "name": "Surfcamp",
            "id": "233190451035",
            "created_time": "2016-07-18T06:12:42+0000"
        },
        {
            "name": "Jared Leto",
            "id": "66793392682",
            "created_time": "2016-07-17T10:59:02+0000"
        },
        {
            "name": "Willow. handgearbeitet",
            "id": "450891994979917",
            "created_time": "2016-07-12T11:12:41+0000"
        },
        {
            "name": "Hairstyles by Kate",
            "id": "1761489874088515",
            "created_time": "2016-07-10T22:04:06+0000"
        },
        {
            "name": "Maria Höfl-Riesch",
            "id": "167972418979",
            "created_time": "2016-07-01T16:05:35+0000"
        },
        {
            "name": "Djinns",
            "id": "139548102751274",
            "created_time": "2016-06-27T18:41:03+0000"
        },
        {
            "name": "Gramatik",
            "id": "76642465340",
            "created_time": "2016-06-25T14:53:58+0000"
        },
        {
            "name": "Meller",
            "id": "1415151682063242",
            "created_time": "2016-06-23T06:33:43+0000"
        },
        {
            "name": "Julian \"Theking\" Zenzmaier",
            "id": "889138084497442",
            "created_time": "2016-06-22T22:35:09+0000"
        },
        {
            "name": "Avril Lavigne",
            "id": "5413509299",
            "created_time": "2016-06-19T09:21:32+0000"
        },
        {
            "name": "Da Berrer",
            "id": "943150165792568",
            "created_time": "2016-06-06T13:22:24+0000"
        },
        {
            "name": "Earth Porn",
            "id": "295969823862536",
            "created_time": "2016-06-02T20:12:54+0000"
        },
        {
            "name": "Volleyball Ostermiething",
            "id": "164821018731",
            "created_time": "2016-06-01T09:01:28+0000"
        },
**/

'use strict';

import config from 'config';
import Model from 'core/model';

module.exports = Model.extend({
    accessToken: null,

    reqDataType: 'jsonp',

    initialize(accessToken) {
        this.accessToken = accessToken;
    },

    defaults() {
        return {
            likes: []
        };
    },

    url() {
        return config.get('Client.providers.facebook.api') + '/me/?fields=likes.limit(999)&access_token=' + this.accessToken;
    },

    parse(data) {
        if (!data.likes) return {};

        return { likes: data.likes.data };
    },

    getActivities() {
        let activities = [];

        for (let like of this.get('likes')) {

            let activity = {
                id: like.id,
                type: 'like',
                created_time: like.created_time,
                provider: 'facebook'
            };

            activities.push(activity);
        }

        return activities;
    }
});
